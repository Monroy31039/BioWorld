"0","# Se crea un dataframe vacio para almacenar los k y los RMSE (prueba)"
"0","resultados <- data.frame(k = integer(), RMSE = numeric(), stringsAsFactors = FALSE)"
"0",""
"0","# Entrenar y evaluar modelos con diferentes valores de k"
"0","for (k in grilla) {"
"0","  # Entrenar el modelo kNN con el valor actual de k"
"0","  model <- train(precio ~ ., "
"0","                 data = train_d,"
"0","                 metric=""RMSE"","
"0","                 method = ""knn"","
"0","                 tuneGrid = expand.grid(k = k))  "
"0","  "
"0","  # Precios predichos sobre el conjunto de prueba"
"0","  predichos = predict(model, newdata = test_d)"
"0","  "
"0","  # Precios reales (conjunto de prueba)"
"0","  reales = test_d$precio  "
"0","  "
"0","  # Evaluar el rendimiento del modelo (conjunto de prueba)"
"0","    rmse = sqrt(mean((predichos - reales)^2)) "
"0","  "
"0","  # Se almacenan los resultados"
"0","  resultados <- rbind(resultados, data.frame(k = k, RMSE = rmse))"
"0","}"
"0",""
"0","resultados[1:5,]"
